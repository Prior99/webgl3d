<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <script src="webgl-utils.js"></script>
        <script src="gl-matrix.js"></script>
        <script src="graphics.js"></script>
        <script src="jquery-2.1.1.min.js"></script>
        <script src="entity.js"></script>
        <script src="game.js"></script>
        <script src="player.js"></script>
        <style type="text/css">
            html, body {
            	padding: 0;
            	margin: 0;
            	width: 100%;
            	height: 100%;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <canvas width="500" height="500"/>
        <script>
			var element = $("canvas")[0];
			
			function isPointerLocked() {
				return document.pointerLockElement == element || 
					document.mozPointerLockElement == element || 
					document.webkitPointerLockElement == element
			}
			
            $(function() {
				function lock(e) {
					if(!isPointerLocked()) {
						element.requestPointerLock =
							element.requestPointerLock ||
							element.mozRequestPointerLock ||
							element.webkitRequestPointerLock;
						element.requestPointerLock();
					}
                }
                $(document).mousedown(lock);
				
                Game.init($("canvas")[0], "maps/test.js", function() {
                    console.log("Game started.");
                });
            });
        </script>
    </body>
</html>
